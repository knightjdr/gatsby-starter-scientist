{"version":3,"file":"component---src-pages-publications-index-js-4fbdf2974d3ee4fa9aac.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/components/publications/sort-articles.js","webpack://gatsby-starter-default/./src/components/publications/list.js","webpack://gatsby-starter-default/./src/components/publications/publications.js","webpack://gatsby-starter-default/./src/components/publications/publications-container.js","webpack://gatsby-starter-default/./src/pages/publications/index.js","webpack://gatsby-starter-default/./node_modules/gatsby/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://gatsby-starter-default/./node_modules/gatsby/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://gatsby-starter-default/./node_modules/gatsby/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://gatsby-starter-default/./node_modules/gatsby/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://gatsby-starter-default/./node_modules/gatsby/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://gatsby-starter-default/./node_modules/gatsby/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"],"sourcesContent":["const sortByYear = (articles) => (\n  Object.entries(articles).reduce((accum, [year, arr]) => ({\n    ...accum,\n    [year]: arr.sort((a, b) => (a.pmid < b.pmid ? 1 : -1)),\n  }), {})\n);\n\nconst sortArticles = (articles) => {\n  const articlesByYear = articles.reduce((accum, article) => {\n    if (accum[article.year]) {\n      return {\n        ...accum,\n        [article.year]: [\n          ...accum[article.year],\n          article,\n        ],\n      };\n    }\n    return {\n      ...accum,\n      [article.year]: [article],\n    };\n  }, {});\n\n  return sortByYear(articlesByYear);\n};\n\nmodule.exports = sortArticles;\n","import PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\n\nimport Link from '../link/link';\n\nconst createAuthorSeparator = (index, numberOfAuthors) => {\n  if (numberOfAuthors === 1 || index === numberOfAuthors - 1) {\n    return '';\n  } if (index < numberOfAuthors - 2) {\n    return ', ';\n  }\n  return ' and ';\n};\n\nconst formatAuthors = (authors, title) => {\n  const numberOfAuthors = authors.length;\n  return authors.map((author, index) => {\n    return (\n      <Fragment key={`${author}-${title}`}>\n        {author}\n        {createAuthorSeparator(index, numberOfAuthors)}\n      </Fragment>\n    );\n  });\n};\n\nconst formatPages = (article) => {\n  if (article.volume && article.issue && article.pages) {\n    return `, ${article.volume}(${article.issue}): ${article.pages}`;\n  } if (article.volume && article.pages) {\n    return `, ${article.volume}: ${article.pages}`;\n  } if (article.pages) {\n    return `, ${article.pages}`;\n  }\n  return '';\n};\n\nconst formatTitle = (title) => title.replace(/&lt;.+?&gt;/g, '');\n\nconst formatItem = (article) => (\n  <li key={article.title}>\n    {formatAuthors(article.authors, article.title)}\n    .\n    {' '}\n    <strong>{formatTitle(article.title)}</strong>\n    {' '}\n    <em>{article.journal}</em>\n    .\n    {' '}\n    {article.year}\n    {formatPages(article)}\n    .\n    {' '}\n    <Link to={`https://www.ncbi.nlm.nih.gov/pubmed/${article.pmid}`}>\n      PMID:\n      {' '}\n      {article.pmid}\n    </Link>\n    .\n  </li>\n);\n\nconst PublicationList = ({\n  publications,\n}) => {\n  const yearOrder = Object.keys(publications).sort((a, b) => (Number(a) < Number(b) ? 1 : -1));\n\n  return (\n    <>\n      <div className=\"publications__links-year\">\n        {\n          yearOrder.map((year) => (\n            <Link\n              key={year}\n              to={`/publications/#${year}`}\n            >\n              {year}\n            </Link>\n          ))\n        }\n      </div>\n      {\n        yearOrder.map((year) => {\n          const items = publications[year].map((article) => formatItem(article));\n          return (\n            <div key={year}>\n              <h2 id={year}>{year}</h2>\n              <ul>{items}</ul>\n            </div>\n          );\n        })\n      }\n    </>\n  );\n};\n\nPublicationList.propTypes = {\n  publications: PropTypes.shape({}).isRequired,\n};\n\nexport default PublicationList;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBook } from '@fortawesome/free-solid-svg-icons';\n\nimport './publications.css';\nimport PublicationList from './list';\n\nconst Publications = ({ publications }) => (\n  <div className=\"publications\">\n    <section>\n      <header>\n        <h1>\n          Publications\n        </h1>\n        <FontAwesomeIcon icon={faBook} size=\"2x\" />\n      </header>\n      <PublicationList publications={publications} />\n    </section>\n  </div>\n);\n\nPublications.propTypes = {\n  publications: PropTypes.shape({}).isRequired,\n};\n\nexport default Publications;\n","import React from 'react';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Publications from './publications';\n\nimport sortArticles from './sort-articles';\n\nconst PublicationsContainer = () => {\n  const query = useStaticQuery(\n    graphql`\n      query {\n        publications(list: {elemMatch: {title: {regex: \"/.*/\"}}}) {\n          list{\n            authors\n            journal\n            issue\n            pages\n            pmid\n            title\n            volume\n            year\n          }\n        }\n      }\n    `,\n  );\n\n  const publicationsByYear = query.publications && query.publications.list.length > 0\n    ? sortArticles(query.publications.list)\n    : null;\n\n  return (\n    publicationsByYear\n    && <Publications publications={publicationsByYear} />\n  );\n};\n\nexport default PublicationsContainer;\n","import React from 'react';\n\nimport Layout from '../../components/layout/layout';\nimport Publications from '../../components/publications/publications-container';\nimport SEO from '../../components/seo/seo';\n\nconst IndexPage = () => (\n  <Layout>\n    <SEO title=\"Publications\" />\n    <Publications />\n  </Layout>\n);\n\nexport default IndexPage;\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;"],"names":["module","exports","articles","Object","entries","reduce","accum","year","arr","sort","a","b","pmid","sortByYear","article","formatItem","key","title","authors","numberOfAuthors","length","map","author","index","Fragment","createAuthorSeparator","replace","formatTitle","journal","volume","issue","pages","formatPages","to","publications","yearOrder","keys","Number","className","items","id","icon","faBook","size","query","useStaticQuery","publicationsByYear","list","sortArticles","len","i","arr2","Array","__esModule","arrayLikeToArray","isArray","iter","Symbol","iterator","from","TypeError","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","o","minLen","n","prototype","toString","call","slice","constructor","name","test"],"sourceRoot":""}